{
  "name": "Banking",
  "description": "Run a community bank. Accept deposits, approve loans, manage risk, and grow your institution while keeping regulators happy.",
  "states": [
    { "name": "lobby", "description": "The bank lobby. Customers wait in line.", "onEnter": [] },
    {
      "name": "loan_office",
      "description": "Review loan applications and assess risk.",
      "onEnter": [{ "resource": "applications", "operation": "+", "value": "random(1,3)" }]
    },
    {
      "name": "vault",
      "description": "The secure vault. Stacks of cash and safety deposit boxes.",
      "onEnter": []
    },
    {
      "name": "board_room",
      "description": "Strategic meetings about the bank's future.",
      "onEnter": [{ "resource": "strategy", "operation": "+", "value": "random(2,5)" }]
    },
    {
      "name": "audit",
      "description": "Federal regulators are reviewing your books.",
      "onEnter": [{ "resource": "compliance", "operation": "-", "value": "random(3,6)" }]
    },
    { "name": "expansion", "description": "Opening a new branch location.", "onEnter": [] }
  ],
  "initialState": "lobby",
  "resources": {
    "deposits": { "initial": 500000, "min": 0, "max": 5000000, "label": "Total Deposits" },
    "loans_out": { "initial": 10, "min": 0, "max": 100, "label": "Active Loans" },
    "compliance": { "initial": 50, "min": 0, "max": 100, "label": "Compliance Score" },
    "profit": { "initial": 0, "min": 0, "max": 200, "label": "Quarterly Profit" },
    "applications": { "initial": 3, "min": 0, "max": 30, "label": "Loan Applications" },
    "strategy": { "initial": 10, "min": 0, "max": 100, "label": "Strategic Vision" }
  },
  "actions": {
    "lobby": [
      {
        "name": "accept_deposits",
        "label": "Accept Deposits",
        "description": "Process customer deposits.",
        "effects": [
          { "resource": "deposits", "operation": "+", "value": "random(20000,80000)" },
          { "resource": "compliance", "operation": "+", "value": "random(1,3)" }
        ]
      },
      {
        "name": "go_loans",
        "label": "Review Loan Applications",
        "description": "Head to the loan office.",
        "effects": [],
        "transition": "loan_office"
      },
      {
        "name": "customer_service",
        "label": "Handle Complaints",
        "description": "Resolve customer issues.",
        "effects": [
          { "resource": "compliance", "operation": "+", "value": "random(2,5)" },
          { "resource": "strategy", "operation": "+", "value": "random(1,3)" }
        ]
      },
      {
        "name": "go_boardroom",
        "label": "Board Meeting",
        "description": "Discuss strategy with directors.",
        "effects": [],
        "transition": "board_room"
      }
    ],
    "loan_office": [
      {
        "name": "approve_safe",
        "label": "Approve Safe Loan",
        "description": "Approve a low-risk, low-return loan.",
        "condition": { "resource": "applications", "operator": ">=", "value": "1" },
        "effects": [
          { "resource": "applications", "operation": "-", "value": "1" },
          { "resource": "loans_out", "operation": "+", "value": "1" },
          { "resource": "deposits", "operation": "-", "value": "random(10000,30000)" },
          { "resource": "profit", "operation": "+", "value": "random(3,6)" },
          { "resource": "compliance", "operation": "+", "value": "random(2,4)" }
        ]
      },
      {
        "name": "approve_risky",
        "label": "Approve Risky Loan",
        "description": "Higher returns but more default risk.",
        "condition": { "resource": "applications", "operator": ">=", "value": "1" },
        "effects": [
          { "resource": "applications", "operation": "-", "value": "1" },
          { "resource": "loans_out", "operation": "+", "value": "1" },
          { "resource": "deposits", "operation": "-", "value": "random(30000,80000)" },
          { "resource": "profit", "operation": "+", "value": "random(8,15)" },
          { "resource": "compliance", "operation": "-", "value": "random(3,6)" }
        ]
      },
      {
        "name": "deny_loan",
        "label": "Deny Application",
        "description": "Reject the loan request.",
        "condition": { "resource": "applications", "operator": ">=", "value": "1" },
        "effects": [
          { "resource": "applications", "operation": "-", "value": "1" },
          { "resource": "compliance", "operation": "+", "value": "random(1,3)" }
        ]
      },
      {
        "name": "back_lobby",
        "label": "Return to Lobby",
        "description": "Go back to the main floor.",
        "effects": [],
        "transition": "lobby"
      }
    ],
    "vault": [
      {
        "name": "count_reserves",
        "label": "Count Reserves",
        "description": "Verify cash on hand.",
        "effects": [{ "resource": "compliance", "operation": "+", "value": "random(3,6)" }],
        "transition": "lobby"
      },
      {
        "name": "invest_reserves",
        "label": "Invest Reserves",
        "description": "Put excess cash to work in bonds.",
        "effects": [
          { "resource": "deposits", "operation": "-", "value": "random(50000,100000)" },
          { "resource": "profit", "operation": "+", "value": "random(5,12)" }
        ],
        "transition": "lobby"
      }
    ],
    "board_room": [
      {
        "name": "growth_plan",
        "label": "Growth Strategy",
        "description": "Plan for expanding the bank.",
        "effects": [
          { "resource": "strategy", "operation": "+", "value": "random(5,10)" },
          { "resource": "profit", "operation": "+", "value": "random(3,6)" }
        ]
      },
      {
        "name": "risk_review",
        "label": "Risk Assessment",
        "description": "Review the bank's risk exposure.",
        "effects": [
          { "resource": "compliance", "operation": "+", "value": "random(5,10)" },
          { "resource": "strategy", "operation": "+", "value": "random(3,5)" }
        ],
        "transition": "lobby"
      },
      {
        "name": "launch_product",
        "label": "Launch New Product",
        "description": "Introduce a new savings or loan product.",
        "effects": [
          { "resource": "deposits", "operation": "+", "value": "random(30000,80000)" },
          { "resource": "profit", "operation": "+", "value": "random(5,10)" },
          { "resource": "strategy", "operation": "+", "value": "random(3,6)" }
        ],
        "transition": "lobby"
      }
    ],
    "audit": [
      {
        "name": "full_cooperation",
        "label": "Full Cooperation",
        "description": "Open all books and assist the auditors.",
        "effects": [
          { "resource": "compliance", "operation": "+", "value": "random(8,15)" },
          { "resource": "profit", "operation": "-", "value": "random(3,6)" }
        ],
        "transition": "lobby"
      },
      {
        "name": "minimal_compliance",
        "label": "Minimal Compliance",
        "description": "Provide only what is legally required.",
        "effects": [{ "resource": "compliance", "operation": "+", "value": "random(2,5)" }],
        "transition": "lobby"
      }
    ],
    "expansion": [
      {
        "name": "open_branch",
        "label": "Open New Branch",
        "description": "Build and staff a new location.",
        "effects": [
          { "resource": "deposits", "operation": "-", "value": "random(100000,200000)" },
          { "resource": "profit", "operation": "+", "value": "random(8,15)" },
          { "resource": "strategy", "operation": "+", "value": "random(5,10)" }
        ],
        "transition": "lobby"
      },
      {
        "name": "digital_bank",
        "label": "Launch Digital Banking",
        "description": "Build an online banking platform.",
        "effects": [
          { "resource": "deposits", "operation": "-", "value": "random(50000,100000)" },
          { "resource": "profit", "operation": "+", "value": "random(10,18)" },
          { "resource": "strategy", "operation": "+", "value": "random(5,10)" }
        ],
        "transition": "lobby"
      }
    ]
  },
  "transitions": [
    {
      "from": "lobby",
      "to": "audit",
      "condition": { "resource": "compliance", "operator": "<=", "value": "25" },
      "auto": true
    },
    {
      "from": "lobby",
      "to": "vault",
      "condition": { "resource": "deposits", "operator": ">=", "value": "1000000" },
      "auto": false
    },
    {
      "from": "board_room",
      "to": "expansion",
      "condition": { "resource": "strategy", "operator": ">=", "value": "50" },
      "auto": true
    }
  ],
  "winCondition": { "resource": "profit", "operator": ">=", "value": "150" },
  "loseCondition": { "resource": "compliance", "operator": "<=", "value": "0" },
  "theme": {
    "palette": "marble-green",
    "stateDescriptions": {
      "lobby": { "label": "Bank Lobby", "icon": "home" },
      "loan_office": { "label": "Loan Office", "icon": "file-text" },
      "vault": { "label": "Vault", "icon": "lock" },
      "board_room": { "label": "Board Room", "icon": "users" },
      "audit": { "label": "Audit!", "icon": "alert" },
      "expansion": { "label": "Expansion", "icon": "plus-circle" }
    },
    "resourceIcons": {
      "deposits": "database",
      "loans_out": "file-text",
      "compliance": "shield",
      "profit": "trending-up",
      "applications": "inbox",
      "strategy": "target"
    }
  }
}
