{
  "name": "Supply Chain",
  "description": "Manage a global supply chain for a manufacturing company. Source materials, coordinate logistics, handle disruptions, and deliver products on time.",
  "states": [
    {
      "name": "headquarters",
      "description": "Your command center with screens showing global shipment trackers.",
      "onEnter": []
    },
    {
      "name": "procurement",
      "description": "Negotiating with suppliers for raw materials.",
      "onEnter": [{ "resource": "materials", "operation": "+", "value": "random(5,10)" }]
    },
    {
      "name": "factory",
      "description": "The production floor. Assembly lines hum with activity.",
      "onEnter": []
    },
    {
      "name": "warehouse",
      "description": "Stacks of inventory ready for shipping.",
      "onEnter": []
    },
    {
      "name": "shipping",
      "description": "Containers loaded and routes planned.",
      "onEnter": [{ "resource": "deliveries", "operation": "+", "value": "random(1,3)" }]
    },
    {
      "name": "disruption",
      "description": "A crisis threatens your supply chain. Act fast.",
      "onEnter": [
        { "resource": "customer_satisfaction", "operation": "-", "value": "random(5,10)" }
      ]
    }
  ],
  "initialState": "headquarters",
  "resources": {
    "capital": { "initial": 100000, "min": 0, "max": 1000000, "label": "Capital" },
    "materials": { "initial": 20, "min": 0, "max": 100, "label": "Raw Materials" },
    "products": { "initial": 0, "min": 0, "max": 100, "label": "Finished Products" },
    "deliveries": { "initial": 0, "min": 0, "max": 50, "label": "Deliveries Made" },
    "customer_satisfaction": {
      "initial": 50,
      "min": 0,
      "max": 100,
      "label": "Customer Satisfaction"
    },
    "efficiency": { "initial": 30, "min": 0, "max": 100, "label": "Efficiency" }
  },
  "actions": {
    "headquarters": [
      {
        "name": "go_procurement",
        "label": "Source Materials",
        "description": "Contact suppliers for raw materials.",
        "effects": [],
        "transition": "procurement"
      },
      {
        "name": "go_factory",
        "label": "Visit Factory",
        "description": "Check on production status.",
        "effects": [],
        "transition": "factory"
      },
      {
        "name": "optimize",
        "label": "Optimize Operations",
        "description": "Analyze data and improve processes.",
        "effects": [
          { "resource": "efficiency", "operation": "+", "value": "random(3,8)" },
          { "resource": "capital", "operation": "-", "value": "random(5000,12000)" }
        ]
      },
      {
        "name": "go_shipping",
        "label": "Check Shipping",
        "description": "Review logistics and delivery schedules.",
        "condition": { "resource": "products", "operator": ">=", "value": "5" },
        "effects": [],
        "transition": "shipping"
      }
    ],
    "procurement": [
      {
        "name": "bulk_order",
        "label": "Bulk Order",
        "description": "Order large quantities at a discount.",
        "effects": [
          { "resource": "materials", "operation": "+", "value": "random(15,25)" },
          { "resource": "capital", "operation": "-", "value": "random(20000,35000)" }
        ]
      },
      {
        "name": "quality_order",
        "label": "Premium Materials",
        "description": "Pay more for higher quality supplies.",
        "effects": [
          { "resource": "materials", "operation": "+", "value": "random(8,12)" },
          { "resource": "capital", "operation": "-", "value": "random(15000,25000)" },
          { "resource": "efficiency", "operation": "+", "value": "random(2,5)" }
        ]
      },
      {
        "name": "back_to_hq",
        "label": "Return to HQ",
        "description": "Head back to headquarters.",
        "effects": [],
        "transition": "headquarters"
      }
    ],
    "factory": [
      {
        "name": "production_run",
        "label": "Run Production",
        "description": "Convert materials into finished products.",
        "condition": { "resource": "materials", "operator": ">=", "value": "10" },
        "effects": [
          { "resource": "materials", "operation": "-", "value": "random(8,15)" },
          { "resource": "products", "operation": "+", "value": "random(5,12)" },
          { "resource": "capital", "operation": "-", "value": "random(8000,15000)" }
        ]
      },
      {
        "name": "maintenance",
        "label": "Equipment Maintenance",
        "description": "Service the production equipment.",
        "effects": [
          { "resource": "capital", "operation": "-", "value": "random(5000,10000)" },
          { "resource": "efficiency", "operation": "+", "value": "random(5,10)" }
        ]
      },
      {
        "name": "hire_workers",
        "label": "Hire More Workers",
        "description": "Expand the workforce.",
        "effects": [
          { "resource": "capital", "operation": "-", "value": "random(10000,20000)" },
          { "resource": "efficiency", "operation": "+", "value": "random(3,6)" }
        ]
      },
      {
        "name": "back_to_hq2",
        "label": "Return to HQ",
        "description": "Head back to headquarters.",
        "effects": [],
        "transition": "headquarters"
      }
    ],
    "warehouse": [
      {
        "name": "organize",
        "label": "Organize Inventory",
        "description": "Sort and catalog stored products.",
        "effects": [{ "resource": "efficiency", "operation": "+", "value": "random(3,6)" }],
        "transition": "headquarters"
      },
      {
        "name": "ship_products",
        "label": "Ship Products",
        "description": "Load trucks and send deliveries.",
        "condition": { "resource": "products", "operator": ">=", "value": "5" },
        "effects": [
          { "resource": "products", "operation": "-", "value": "random(5,10)" },
          { "resource": "deliveries", "operation": "+", "value": "random(2,4)" },
          { "resource": "customer_satisfaction", "operation": "+", "value": "random(5,10)" },
          { "resource": "capital", "operation": "+", "value": "random(20000,40000)" }
        ],
        "transition": "headquarters"
      }
    ],
    "shipping": [
      {
        "name": "express_ship",
        "label": "Express Shipping",
        "description": "Pay premium for fast delivery.",
        "effects": [
          { "resource": "capital", "operation": "-", "value": "random(10000,20000)" },
          { "resource": "products", "operation": "-", "value": "random(5,10)" },
          { "resource": "deliveries", "operation": "+", "value": "random(3,5)" },
          { "resource": "customer_satisfaction", "operation": "+", "value": "random(8,15)" }
        ],
        "transition": "headquarters"
      },
      {
        "name": "standard_ship",
        "label": "Standard Shipping",
        "description": "Regular delivery schedule.",
        "effects": [
          { "resource": "capital", "operation": "-", "value": "random(3000,8000)" },
          { "resource": "products", "operation": "-", "value": "random(5,10)" },
          { "resource": "deliveries", "operation": "+", "value": "random(2,4)" },
          { "resource": "customer_satisfaction", "operation": "+", "value": "random(3,8)" }
        ],
        "transition": "headquarters"
      }
    ],
    "disruption": [
      {
        "name": "emergency_sourcing",
        "label": "Emergency Sourcing",
        "description": "Find alternative suppliers immediately.",
        "effects": [
          { "resource": "capital", "operation": "-", "value": "random(20000,40000)" },
          { "resource": "materials", "operation": "+", "value": "random(10,20)" },
          { "resource": "customer_satisfaction", "operation": "+", "value": "random(3,6)" }
        ],
        "transition": "headquarters"
      },
      {
        "name": "delay_orders",
        "label": "Delay Orders",
        "description": "Push back delivery dates.",
        "effects": [
          { "resource": "customer_satisfaction", "operation": "-", "value": "random(8,15)" }
        ],
        "transition": "headquarters"
      },
      {
        "name": "reroute",
        "label": "Reroute Shipments",
        "description": "Find alternative shipping routes.",
        "effects": [
          { "resource": "capital", "operation": "-", "value": "random(10000,20000)" },
          { "resource": "efficiency", "operation": "+", "value": "random(2,5)" }
        ],
        "transition": "headquarters"
      }
    ]
  },
  "transitions": [
    {
      "from": "headquarters",
      "to": "disruption",
      "condition": { "resource": "efficiency", "operator": "<=", "value": "15" },
      "auto": true
    },
    {
      "from": "factory",
      "to": "warehouse",
      "condition": { "resource": "products", "operator": ">=", "value": "20" },
      "auto": true
    }
  ],
  "winCondition": { "resource": "deliveries", "operator": ">=", "value": "30" },
  "loseCondition": { "resource": "customer_satisfaction", "operator": "<=", "value": "0" },
  "theme": {
    "palette": "logistics-blue",
    "stateDescriptions": {
      "headquarters": { "label": "HQ", "icon": "monitor" },
      "procurement": { "label": "Procurement", "icon": "shopping-cart" },
      "factory": { "label": "Factory", "icon": "tool" },
      "warehouse": { "label": "Warehouse", "icon": "box" },
      "shipping": { "label": "Shipping", "icon": "truck" },
      "disruption": { "label": "Disruption!", "icon": "alert" }
    },
    "resourceIcons": {
      "capital": "dollar-sign",
      "materials": "layers",
      "products": "package",
      "deliveries": "check-circle",
      "customer_satisfaction": "smile",
      "efficiency": "trending-up"
    }
  }
}
