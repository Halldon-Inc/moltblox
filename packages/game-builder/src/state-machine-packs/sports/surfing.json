{
  "name": "Surfing",
  "description": "Catch waves at a world-class surf break. Read the ocean, pick the right wave, and pull off tricks for the judges.",
  "states": [
    {
      "name": "lineup",
      "description": "Sitting on your board waiting for sets.",
      "onEnter": []
    },
    {
      "name": "paddling",
      "description": "Paddling hard to catch an incoming wave.",
      "onEnter": [
        {
          "resource": "energy",
          "operation": "-",
          "value": "random(5,8)"
        }
      ]
    },
    {
      "name": "riding",
      "description": "On the wave! Carving the face.",
      "onEnter": [
        {
          "resource": "stoke",
          "operation": "+",
          "value": "5"
        }
      ]
    },
    {
      "name": "tube",
      "description": "Inside the barrel. Time slows down.",
      "onEnter": [
        {
          "resource": "stoke",
          "operation": "+",
          "value": "10"
        }
      ]
    },
    {
      "name": "wipeout",
      "description": "Tumbling underwater. Hold your breath.",
      "onEnter": [
        {
          "resource": "energy",
          "operation": "-",
          "value": "random(8,12)"
        }
      ]
    }
  ],
  "initialState": "lineup",
  "resources": {
    "score": {
      "initial": 0,
      "min": 0,
      "max": 100,
      "label": "Judge Score"
    },
    "energy": {
      "initial": 100,
      "min": 0,
      "max": 100,
      "label": "Energy"
    },
    "stoke": {
      "initial": 20,
      "min": 0,
      "max": 100,
      "label": "Stoke"
    },
    "waves_caught": {
      "initial": 0,
      "min": 0,
      "max": 10,
      "label": "Waves Caught"
    },
    "time": {
      "initial": 30,
      "min": 0,
      "max": 30,
      "label": "Heat Timer"
    }
  },
  "actions": {
    "lineup": [
      {
        "name": "paddle_for_wave",
        "label": "Paddle for a Wave",
        "description": "A set is coming. Go!",
        "effects": [
          {
            "resource": "time",
            "operation": "-",
            "value": "2"
          }
        ],
        "transition": "paddling"
      },
      {
        "name": "wait_for_set",
        "label": "Wait for Better Set",
        "description": "Be patient for the right wave.",
        "effects": [
          {
            "resource": "energy",
            "operation": "+",
            "value": "random(5,8)"
          },
          {
            "resource": "time",
            "operation": "-",
            "value": "3"
          }
        ]
      },
      {
        "name": "reposition",
        "label": "Reposition",
        "description": "Move to a better spot in the lineup.",
        "effects": [
          {
            "resource": "energy",
            "operation": "-",
            "value": "3"
          },
          {
            "resource": "time",
            "operation": "-",
            "value": "1"
          }
        ]
      }
    ],
    "paddling": [
      {
        "name": "catch_wave",
        "label": "Pop Up!",
        "description": "Spring to your feet.",
        "effects": [
          {
            "resource": "waves_caught",
            "operation": "+",
            "value": "1"
          },
          {
            "resource": "energy",
            "operation": "-",
            "value": "5"
          },
          {
            "resource": "time",
            "operation": "-",
            "value": "1"
          }
        ],
        "transition": "riding"
      },
      {
        "name": "miss_wave",
        "label": "Wave Passes",
        "description": "Not enough speed. Back to waiting.",
        "effects": [
          {
            "resource": "energy",
            "operation": "-",
            "value": "3"
          },
          {
            "resource": "stoke",
            "operation": "-",
            "value": "3"
          },
          {
            "resource": "time",
            "operation": "-",
            "value": "1"
          }
        ],
        "transition": "lineup"
      }
    ],
    "riding": [
      {
        "name": "bottom_turn",
        "label": "Bottom Turn",
        "description": "Carve off the bottom.",
        "effects": [
          {
            "resource": "score",
            "operation": "+",
            "value": "random(3,6)"
          },
          {
            "resource": "energy",
            "operation": "-",
            "value": "3"
          }
        ]
      },
      {
        "name": "aerial",
        "label": "Launch Aerial",
        "description": "Launch off the lip.",
        "effects": [
          {
            "resource": "score",
            "operation": "+",
            "value": "random(8,15)"
          },
          {
            "resource": "energy",
            "operation": "-",
            "value": "random(8,12)"
          },
          {
            "resource": "stoke",
            "operation": "+",
            "value": "random(5,10)"
          }
        ]
      },
      {
        "name": "go_for_tube",
        "label": "Pull Into Barrel",
        "description": "Try to get tubed.",
        "condition": {
          "resource": "stoke",
          "operator": ">=",
          "value": "30"
        },
        "effects": [
          {
            "resource": "energy",
            "operation": "-",
            "value": "5"
          }
        ],
        "transition": "tube"
      },
      {
        "name": "kick_out",
        "label": "Kick Out",
        "description": "Exit the wave cleanly.",
        "effects": [
          {
            "resource": "score",
            "operation": "+",
            "value": "random(1,3)"
          },
          {
            "resource": "time",
            "operation": "-",
            "value": "1"
          }
        ],
        "transition": "lineup"
      }
    ],
    "tube": [
      {
        "name": "ride_barrel",
        "label": "Ride the Barrel",
        "description": "Stay in the tube as long as possible.",
        "effects": [
          {
            "resource": "score",
            "operation": "+",
            "value": "random(12,20)"
          },
          {
            "resource": "stoke",
            "operation": "+",
            "value": "random(8,15)"
          },
          {
            "resource": "energy",
            "operation": "-",
            "value": "random(5,10)"
          }
        ],
        "transition": "lineup"
      },
      {
        "name": "get_clipped",
        "label": "Get Clipped",
        "description": "The lip catches you.",
        "effects": [
          {
            "resource": "score",
            "operation": "+",
            "value": "random(5,10)"
          }
        ],
        "transition": "wipeout"
      }
    ],
    "wipeout": [
      {
        "name": "surface",
        "label": "Swim to Surface",
        "description": "Fight back to air.",
        "effects": [
          {
            "resource": "energy",
            "operation": "-",
            "value": "random(5,10)"
          },
          {
            "resource": "stoke",
            "operation": "-",
            "value": "random(3,6)"
          },
          {
            "resource": "time",
            "operation": "-",
            "value": "2"
          }
        ],
        "transition": "lineup"
      }
    ]
  },
  "transitions": [
    {
      "from": "riding",
      "to": "wipeout",
      "condition": {
        "resource": "energy",
        "operator": "<=",
        "value": "15"
      },
      "auto": true
    }
  ],
  "winCondition": {
    "resource": "score",
    "operator": ">=",
    "value": "60"
  },
  "loseCondition": {
    "resource": "time",
    "operator": "<=",
    "value": "0"
  },
  "theme": {
    "palette": "ocean-teal",
    "stateDescriptions": {
      "lineup": {
        "label": "The Lineup",
        "icon": "waves"
      },
      "paddling": {
        "label": "Paddling!",
        "icon": "arrow-right"
      },
      "riding": {
        "label": "Riding!",
        "icon": "zap"
      },
      "tube": {
        "label": "Barrel!",
        "icon": "circle"
      },
      "wipeout": {
        "label": "Wipeout!",
        "icon": "alert"
      }
    },
    "resourceIcons": {
      "score": "star",
      "energy": "battery",
      "stoke": "heart",
      "waves_caught": "waves",
      "time": "clock"
    }
  }
}
