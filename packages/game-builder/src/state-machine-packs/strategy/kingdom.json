{
  "name": "Kingdom",
  "description": "Rule a medieval kingdom. Balance the needs of nobles, clergy, peasants, and military to keep your throne.",
  "states": [
    {
      "name": "throne",
      "description": "The royal court. Hear petitions and pass laws.",
      "onEnter": [{ "resource": "treasury", "operation": "+", "value": "random(5,15)" }]
    },
    { "name": "council", "description": "Meeting with your advisors.", "onEnter": [] },
    { "name": "marketplace", "description": "The kingdom's economic center.", "onEnter": [] },
    { "name": "cathedral", "description": "The grand cathedral and the clergy.", "onEnter": [] },
    { "name": "barracks", "description": "Military quarters and training grounds.", "onEnter": [] },
    {
      "name": "peasant_revolt",
      "description": "The common folk rise up in anger!",
      "onEnter": [{ "resource": "stability", "operation": "-", "value": "5" }]
    }
  ],
  "initialState": "throne",
  "resources": {
    "treasury": { "initial": 100, "min": 0, "label": "Treasury" },
    "stability": { "initial": 60, "min": 0, "max": 100, "label": "Stability" },
    "military": { "initial": 30, "min": 0, "max": 80, "label": "Military" },
    "piety": { "initial": 20, "min": 0, "max": 50, "label": "Piety" },
    "prosperity": { "initial": 40, "min": 0, "max": 100, "label": "Prosperity" },
    "noble_favor": { "initial": 5, "min": 0, "max": 10, "label": "Noble Favor" },
    "peasant_happiness": { "initial": 5, "min": 0, "max": 10, "label": "Peasant Happiness" }
  },
  "actions": {
    "throne": [
      {
        "name": "hold_court",
        "label": "Hold Court",
        "effects": [
          { "resource": "stability", "operation": "+", "value": "random(2,5)" },
          { "resource": "peasant_happiness", "operation": "+", "value": "random(0,1)" }
        ]
      },
      { "name": "go_council", "label": "Council Meeting", "effects": [], "transition": "council" },
      { "name": "go_market", "label": "Visit Market", "effects": [], "transition": "marketplace" },
      {
        "name": "go_cathedral",
        "label": "Visit Cathedral",
        "effects": [],
        "transition": "cathedral"
      },
      { "name": "go_barracks", "label": "Inspect Army", "effects": [], "transition": "barracks" },
      {
        "name": "feast",
        "label": "Royal Feast",
        "condition": { "resource": "treasury", "operator": ">=", "value": "20" },
        "effects": [
          { "resource": "treasury", "operation": "-", "value": "20" },
          { "resource": "noble_favor", "operation": "+", "value": "random(1,2)" },
          { "resource": "stability", "operation": "+", "value": "random(2,4)" }
        ]
      }
    ],
    "council": [
      {
        "name": "tax_reform",
        "label": "Tax Reform",
        "effects": [
          { "resource": "treasury", "operation": "+", "value": "random(15,30)" },
          { "resource": "peasant_happiness", "operation": "-", "value": "random(1,2)" }
        ]
      },
      {
        "name": "trade_agreement",
        "label": "Trade Agreement",
        "effects": [
          { "resource": "prosperity", "operation": "+", "value": "random(5,12)" },
          { "resource": "treasury", "operation": "+", "value": "random(5,15)" }
        ]
      },
      {
        "name": "grant_titles",
        "label": "Grant Noble Titles",
        "condition": { "resource": "treasury", "operator": ">=", "value": "15" },
        "effects": [
          { "resource": "treasury", "operation": "-", "value": "15" },
          { "resource": "noble_favor", "operation": "+", "value": "random(1,3)" }
        ]
      },
      {
        "name": "lower_taxes",
        "label": "Lower Taxes",
        "effects": [
          { "resource": "peasant_happiness", "operation": "+", "value": "random(2,4)" },
          { "resource": "treasury", "operation": "-", "value": "random(10,20)" }
        ]
      },
      { "name": "back", "label": "Return to Throne", "effects": [], "transition": "throne" }
    ],
    "marketplace": [
      {
        "name": "invest",
        "label": "Invest in Trade",
        "condition": { "resource": "treasury", "operator": ">=", "value": "20" },
        "effects": [
          { "resource": "treasury", "operation": "-", "value": "20" },
          { "resource": "prosperity", "operation": "+", "value": "random(8,15)" }
        ]
      },
      {
        "name": "build_roads",
        "label": "Build Roads",
        "condition": { "resource": "treasury", "operator": ">=", "value": "25" },
        "effects": [
          { "resource": "treasury", "operation": "-", "value": "25" },
          { "resource": "prosperity", "operation": "+", "value": "random(5,10)" },
          { "resource": "peasant_happiness", "operation": "+", "value": "1" }
        ]
      },
      {
        "name": "regulate",
        "label": "Regulate Prices",
        "effects": [
          { "resource": "peasant_happiness", "operation": "+", "value": "random(1,3)" },
          { "resource": "noble_favor", "operation": "-", "value": "random(0,1)" }
        ]
      },
      { "name": "back", "label": "Return to Throne", "effects": [], "transition": "throne" }
    ],
    "cathedral": [
      {
        "name": "pray",
        "label": "Pray for Guidance",
        "effects": [
          { "resource": "piety", "operation": "+", "value": "random(3,6)" },
          { "resource": "stability", "operation": "+", "value": "random(1,3)" }
        ]
      },
      {
        "name": "donate",
        "label": "Donate to Church",
        "condition": { "resource": "treasury", "operator": ">=", "value": "15" },
        "effects": [
          { "resource": "treasury", "operation": "-", "value": "15" },
          { "resource": "piety", "operation": "+", "value": "random(5,10)" },
          { "resource": "peasant_happiness", "operation": "+", "value": "random(1,2)" }
        ]
      },
      {
        "name": "build_church",
        "label": "Build New Church",
        "condition": { "resource": "treasury", "operator": ">=", "value": "30" },
        "effects": [
          { "resource": "treasury", "operation": "-", "value": "30" },
          { "resource": "piety", "operation": "+", "value": "random(8,15)" },
          { "resource": "stability", "operation": "+", "value": "random(3,5)" }
        ]
      },
      { "name": "back", "label": "Return to Throne", "effects": [], "transition": "throne" }
    ],
    "barracks": [
      {
        "name": "train_soldiers",
        "label": "Train Soldiers",
        "condition": { "resource": "treasury", "operator": ">=", "value": "15" },
        "effects": [
          { "resource": "military", "operation": "+", "value": "random(5,12)" },
          { "resource": "treasury", "operation": "-", "value": "15" }
        ]
      },
      {
        "name": "upgrade_weapons",
        "label": "Upgrade Weapons",
        "condition": { "resource": "treasury", "operator": ">=", "value": "25" },
        "effects": [
          { "resource": "treasury", "operation": "-", "value": "25" },
          { "resource": "military", "operation": "+", "value": "random(8,15)" }
        ]
      },
      {
        "name": "patrol_borders",
        "label": "Patrol Borders",
        "effects": [
          { "resource": "stability", "operation": "+", "value": "random(2,5)" },
          { "resource": "military", "operation": "-", "value": "random(1,3)" }
        ]
      },
      { "name": "back", "label": "Return to Throne", "effects": [], "transition": "throne" }
    ],
    "peasant_revolt": [
      {
        "name": "concede",
        "label": "Make Concessions",
        "effects": [
          { "resource": "peasant_happiness", "operation": "+", "value": "random(3,5)" },
          { "resource": "treasury", "operation": "-", "value": "random(15,30)" },
          { "resource": "noble_favor", "operation": "-", "value": "random(1,2)" },
          { "resource": "stability", "operation": "+", "value": "random(5,10)" }
        ],
        "transition": "throne"
      },
      {
        "name": "suppress",
        "label": "Suppress Revolt",
        "condition": { "resource": "military", "operator": ">=", "value": "15" },
        "effects": [
          { "resource": "military", "operation": "-", "value": "random(5,10)" },
          { "resource": "peasant_happiness", "operation": "-", "value": "random(2,4)" },
          { "resource": "stability", "operation": "+", "value": "random(3,8)" }
        ],
        "transition": "throne"
      }
    ]
  },
  "transitions": [
    {
      "from": "throne",
      "to": "peasant_revolt",
      "condition": { "resource": "peasant_happiness", "operator": "<=", "value": "1" },
      "auto": true
    }
  ],
  "perTurnEffects": [{ "resource": "treasury", "operation": "-", "value": "5" }],
  "winCondition": {
    "and": [
      { "resource": "prosperity", "operator": ">=", "value": "80" },
      { "resource": "stability", "operator": ">=", "value": "80" }
    ]
  },
  "loseCondition": { "resource": "stability", "operator": "<=", "value": "0" },
  "theme": {
    "palette": "royal-gold",
    "stateDescriptions": {
      "throne": { "label": "Throne Room", "icon": "crown" },
      "council": { "label": "Royal Council", "icon": "users" },
      "marketplace": { "label": "Market", "icon": "shopping-bag" },
      "cathedral": { "label": "Cathedral", "icon": "star" },
      "barracks": { "label": "Barracks", "icon": "shield" },
      "peasant_revolt": { "label": "Revolt!", "icon": "alert-triangle" }
    },
    "resourceIcons": {
      "treasury": "coin",
      "stability": "lock",
      "military": "shield",
      "piety": "star",
      "prosperity": "trending-up",
      "noble_favor": "crown",
      "peasant_happiness": "smile"
    }
  }
}
