{
  "name": "Racing Strategy",
  "description": "You are the team principal of a racing team. Manage tire strategy, fuel loads, pit stops, and driver communication to win the championship. Speed is nothing without the right plan.",
  "states": [
    {
      "name": "garage",
      "description": "The team garage. Engineers pore over data.",
      "onEnter": []
    },
    {
      "name": "qualifying",
      "description": "One fast lap to set grid position.",
      "onEnter": [
        {
          "resource": "momentum",
          "operation": "+",
          "value": "random(3,5)"
        }
      ]
    },
    {
      "name": "race_start",
      "description": "Lights out. The race begins.",
      "onEnter": [
        {
          "resource": "momentum",
          "operation": "+",
          "value": "random(5,8)"
        }
      ]
    },
    {
      "name": "mid_race",
      "description": "Lap after lap. Strategy unfolds.",
      "onEnter": [
        {
          "resource": "tire_wear",
          "operation": "+",
          "value": "random(5,10)"
        }
      ]
    },
    {
      "name": "pit_stop",
      "description": "The crew springs into action. Seconds matter.",
      "onEnter": [
        {
          "resource": "tire_wear",
          "operation": "-",
          "value": "random(15,25)"
        }
      ]
    },
    {
      "name": "final_laps",
      "description": "The checkered flag approaches. Everything on the line.",
      "onEnter": [
        {
          "resource": "momentum",
          "operation": "+",
          "value": "random(5,10)"
        }
      ]
    }
  ],
  "initialState": "garage",
  "resources": {
    "position": {
      "initial": 10,
      "min": 1,
      "max": 20,
      "label": "Race Position"
    },
    "tire_wear": {
      "initial": 0,
      "min": 0,
      "max": 100,
      "label": "Tire Wear"
    },
    "fuel": {
      "initial": 100,
      "min": 0,
      "max": 100,
      "label": "Fuel"
    },
    "momentum": {
      "initial": 10,
      "min": 0,
      "max": 100,
      "label": "Momentum"
    },
    "strategy_points": {
      "initial": 0,
      "min": 0,
      "max": 100,
      "label": "Strategy Points"
    }
  },
  "actions": {
    "garage": [
      {
        "name": "setup_car",
        "label": "Fine Tune Setup",
        "description": "Adjust downforce, camber, and suspension.",
        "effects": [
          {
            "resource": "momentum",
            "operation": "+",
            "value": "random(5,8)"
          },
          {
            "resource": "strategy_points",
            "operation": "+",
            "value": "random(3,5)"
          }
        ]
      },
      {
        "name": "analyze_rivals",
        "label": "Analyze Rivals",
        "description": "Study competitor data for advantages.",
        "effects": [
          {
            "resource": "strategy_points",
            "operation": "+",
            "value": "random(5,8)"
          }
        ]
      },
      {
        "name": "choose_tires",
        "label": "Choose Tire Compound",
        "description": "Soft for speed, hard for durability.",
        "effects": [
          {
            "resource": "tire_wear",
            "operation": "-",
            "value": "random(3,5)"
          },
          {
            "resource": "momentum",
            "operation": "+",
            "value": "random(2,4)"
          }
        ]
      },
      {
        "name": "go_qualifying",
        "label": "Head to Qualifying",
        "description": "Time to set a lap time.",
        "effects": [],
        "transition": "qualifying"
      }
    ],
    "qualifying": [
      {
        "name": "push_limit",
        "label": "Push to the Limit",
        "description": "Maximum attack for the fastest time.",
        "effects": [
          {
            "resource": "position",
            "operation": "-",
            "value": "random(2,4)"
          },
          {
            "resource": "tire_wear",
            "operation": "+",
            "value": "random(5,8)"
          },
          {
            "resource": "momentum",
            "operation": "+",
            "value": "random(5,8)"
          }
        ]
      },
      {
        "name": "safe_lap",
        "label": "Safe Qualifying Lap",
        "description": "Clean and consistent.",
        "effects": [
          {
            "resource": "position",
            "operation": "-",
            "value": "random(1,2)"
          },
          {
            "resource": "tire_wear",
            "operation": "+",
            "value": "random(2,4)"
          },
          {
            "resource": "strategy_points",
            "operation": "+",
            "value": "random(3,5)"
          }
        ]
      },
      {
        "name": "start_race",
        "label": "Race Day",
        "description": "Grid positions are set. Let the race begin.",
        "effects": [],
        "transition": "race_start"
      }
    ],
    "race_start": [
      {
        "name": "aggressive_start",
        "label": "Aggressive Start",
        "description": "Gun it off the line. Take risks.",
        "effects": [
          {
            "resource": "position",
            "operation": "-",
            "value": "random(2,4)"
          },
          {
            "resource": "tire_wear",
            "operation": "+",
            "value": "random(5,8)"
          },
          {
            "resource": "fuel",
            "operation": "-",
            "value": "random(5,8)"
          },
          {
            "resource": "momentum",
            "operation": "+",
            "value": "random(5,10)"
          }
        ]
      },
      {
        "name": "conservative_start",
        "label": "Conservative Start",
        "description": "Stay safe, avoid incidents.",
        "effects": [
          {
            "resource": "position",
            "operation": "-",
            "value": "random(0,2)"
          },
          {
            "resource": "tire_wear",
            "operation": "+",
            "value": "random(2,4)"
          },
          {
            "resource": "fuel",
            "operation": "-",
            "value": "random(3,5)"
          },
          {
            "resource": "strategy_points",
            "operation": "+",
            "value": "random(3,5)"
          }
        ]
      },
      {
        "name": "settle_in",
        "label": "Settle into Race Pace",
        "description": "Find your rhythm.",
        "effects": [
          {
            "resource": "fuel",
            "operation": "-",
            "value": "random(3,5)"
          }
        ],
        "transition": "mid_race"
      }
    ],
    "mid_race": [
      {
        "name": "attack_position",
        "label": "Attack for Position",
        "description": "Overtake the car ahead.",
        "effects": [
          {
            "resource": "position",
            "operation": "-",
            "value": "random(1,2)"
          },
          {
            "resource": "tire_wear",
            "operation": "+",
            "value": "random(5,10)"
          },
          {
            "resource": "fuel",
            "operation": "-",
            "value": "random(5,8)"
          },
          {
            "resource": "momentum",
            "operation": "+",
            "value": "random(3,6)"
          }
        ]
      },
      {
        "name": "conserve",
        "label": "Conserve Resources",
        "description": "Save tires and fuel for later.",
        "effects": [
          {
            "resource": "tire_wear",
            "operation": "+",
            "value": "random(2,4)"
          },
          {
            "resource": "fuel",
            "operation": "-",
            "value": "random(2,4)"
          },
          {
            "resource": "strategy_points",
            "operation": "+",
            "value": "random(5,8)"
          }
        ]
      },
      {
        "name": "pit_now",
        "label": "Pit Now",
        "description": "Call the pit crew.",
        "effects": [
          {
            "resource": "position",
            "operation": "+",
            "value": "random(1,3)"
          }
        ],
        "transition": "pit_stop"
      },
      {
        "name": "undercut",
        "label": "Attempt Undercut",
        "description": "Pit early and push on fresh tires.",
        "effects": [
          {
            "resource": "strategy_points",
            "operation": "+",
            "value": "random(5,10)"
          },
          {
            "resource": "fuel",
            "operation": "-",
            "value": "random(3,5)"
          }
        ],
        "transition": "pit_stop"
      }
    ],
    "pit_stop": [
      {
        "name": "fast_stop",
        "label": "Fast Pit Stop",
        "description": "The crew nails it. Sub 3 seconds.",
        "effects": [
          {
            "resource": "tire_wear",
            "operation": "-",
            "value": "random(20,30)"
          },
          {
            "resource": "fuel",
            "operation": "+",
            "value": "random(20,30)"
          },
          {
            "resource": "momentum",
            "operation": "+",
            "value": "random(5,8)"
          }
        ],
        "transition": "mid_race"
      },
      {
        "name": "double_stack",
        "label": "Strategy Adjustment",
        "description": "Change tire compound and adjust wing.",
        "effects": [
          {
            "resource": "tire_wear",
            "operation": "-",
            "value": "random(25,35)"
          },
          {
            "resource": "fuel",
            "operation": "+",
            "value": "random(15,25)"
          },
          {
            "resource": "strategy_points",
            "operation": "+",
            "value": "random(5,8)"
          },
          {
            "resource": "position",
            "operation": "+",
            "value": "random(1,2)"
          }
        ],
        "transition": "mid_race"
      }
    ],
    "final_laps": [
      {
        "name": "all_out_attack",
        "label": "All Out Attack",
        "description": "Every last drop of performance.",
        "effects": [
          {
            "resource": "position",
            "operation": "-",
            "value": "random(1,3)"
          },
          {
            "resource": "tire_wear",
            "operation": "+",
            "value": "random(8,12)"
          },
          {
            "resource": "fuel",
            "operation": "-",
            "value": "random(5,8)"
          },
          {
            "resource": "strategy_points",
            "operation": "+",
            "value": "random(5,10)"
          }
        ]
      },
      {
        "name": "defend_position",
        "label": "Defend Position",
        "description": "Hold your ground. Block every move.",
        "effects": [
          {
            "resource": "tire_wear",
            "operation": "+",
            "value": "random(5,8)"
          },
          {
            "resource": "fuel",
            "operation": "-",
            "value": "random(3,5)"
          },
          {
            "resource": "strategy_points",
            "operation": "+",
            "value": "random(3,6)"
          }
        ]
      },
      {
        "name": "strategic_finish",
        "label": "Strategic Finish",
        "description": "Use everything you have planned.",
        "effects": [
          {
            "resource": "strategy_points",
            "operation": "+",
            "value": "random(8,12)"
          },
          {
            "resource": "position",
            "operation": "-",
            "value": "random(1,2)"
          }
        ]
      }
    ]
  },
  "transitions": [
    {
      "from": "mid_race",
      "to": "final_laps",
      "condition": {
        "resource": "fuel",
        "operator": "<=",
        "value": "25"
      },
      "auto": true
    },
    {
      "from": "mid_race",
      "to": "pit_stop",
      "condition": {
        "resource": "tire_wear",
        "operator": ">=",
        "value": "80"
      },
      "auto": true
    }
  ],
  "winCondition": {
    "resource": "strategy_points",
    "operator": ">=",
    "value": "85"
  },
  "loseCondition": {
    "resource": "fuel",
    "operator": "<=",
    "value": "0"
  },
  "theme": {
    "palette": "racing-silver",
    "stateDescriptions": {
      "garage": {
        "label": "Garage",
        "icon": "tool"
      },
      "qualifying": {
        "label": "Qualifying",
        "icon": "clock"
      },
      "race_start": {
        "label": "Race Start",
        "icon": "flag"
      },
      "mid_race": {
        "label": "Mid Race",
        "icon": "activity"
      },
      "pit_stop": {
        "label": "Pit Stop",
        "icon": "refresh-cw"
      },
      "final_laps": {
        "label": "Final Laps",
        "icon": "award"
      }
    },
    "resourceIcons": {
      "position": "hash",
      "tire_wear": "circle",
      "fuel": "battery",
      "momentum": "trending-up",
      "strategy_points": "target"
    }
  }
}
