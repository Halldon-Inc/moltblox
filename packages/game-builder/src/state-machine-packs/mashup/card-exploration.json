{
  "name": "Card Exploration",
  "description": "You are a cartographer in an unmapped realm. Draw cards to reveal terrain, encounter creatures, and collect map fragments. Complete the map before your deck runs out.",
  "states": [
    {
      "name": "camp",
      "description": "Your base camp. Cards spread across the table.",
      "onEnter": []
    },
    {
      "name": "grasslands",
      "description": "Open plains. Easy terrain but few surprises.",
      "onEnter": [
        {
          "resource": "map_fragments",
          "operation": "+",
          "value": "random(2,3)"
        }
      ]
    },
    {
      "name": "forest",
      "description": "Dense woods. Rich in resources but hard to navigate.",
      "onEnter": [
        {
          "resource": "map_fragments",
          "operation": "+",
          "value": "random(2,4)"
        }
      ]
    },
    {
      "name": "mountain",
      "description": "High peaks with panoramic views.",
      "onEnter": [
        {
          "resource": "map_fragments",
          "operation": "+",
          "value": "random(3,5)"
        }
      ]
    },
    {
      "name": "dungeon",
      "description": "Underground chambers. Dangerous but full of rare cards.",
      "onEnter": [
        {
          "resource": "danger",
          "operation": "+",
          "value": "random(5,8)"
        }
      ]
    },
    {
      "name": "ancient_library",
      "description": "A repository of lost maps and forgotten knowledge.",
      "onEnter": [
        {
          "resource": "map_fragments",
          "operation": "+",
          "value": "random(5,8)"
        }
      ]
    }
  ],
  "initialState": "camp",
  "resources": {
    "cards": {
      "initial": 30,
      "min": 0,
      "max": 50,
      "label": "Cards in Deck"
    },
    "map_fragments": {
      "initial": 0,
      "min": 0,
      "max": 100,
      "label": "Map Fragments"
    },
    "supplies": {
      "initial": 20,
      "min": 0,
      "max": 50,
      "label": "Supplies"
    },
    "danger": {
      "initial": 0,
      "min": 0,
      "max": 100,
      "label": "Danger"
    },
    "knowledge": {
      "initial": 5,
      "min": 0,
      "max": 50,
      "label": "Knowledge"
    }
  },
  "actions": {
    "camp": [
      {
        "name": "draw_terrain",
        "label": "Draw a Terrain Card",
        "description": "Reveal the next piece of the map.",
        "effects": [
          {
            "resource": "cards",
            "operation": "-",
            "value": "1"
          },
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(2,4)"
          }
        ]
      },
      {
        "name": "organize_deck",
        "label": "Organize Your Deck",
        "description": "Sort and plan your next draws.",
        "effects": [
          {
            "resource": "knowledge",
            "operation": "+",
            "value": "random(2,4)"
          },
          {
            "resource": "cards",
            "operation": "+",
            "value": "random(1,2)"
          }
        ]
      },
      {
        "name": "venture_grasslands",
        "label": "Venture to Grasslands",
        "description": "Head out across the open plains.",
        "effects": [
          {
            "resource": "cards",
            "operation": "-",
            "value": "random(1,2)"
          },
          {
            "resource": "supplies",
            "operation": "-",
            "value": "random(1,2)"
          }
        ],
        "transition": "grasslands"
      },
      {
        "name": "enter_forest",
        "label": "Enter the Forest",
        "description": "The trees hold secrets.",
        "effects": [
          {
            "resource": "cards",
            "operation": "-",
            "value": "random(1,2)"
          },
          {
            "resource": "supplies",
            "operation": "-",
            "value": "random(1,2)"
          }
        ],
        "transition": "forest"
      }
    ],
    "grasslands": [
      {
        "name": "survey",
        "label": "Survey the Horizon",
        "description": "Wide open views help mapping.",
        "effects": [
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(3,6)"
          },
          {
            "resource": "cards",
            "operation": "-",
            "value": "random(1,2)"
          }
        ]
      },
      {
        "name": "draw_encounter",
        "label": "Draw an Encounter Card",
        "description": "Who or what roams these plains?",
        "effects": [
          {
            "resource": "cards",
            "operation": "-",
            "value": "1"
          },
          {
            "resource": "danger",
            "operation": "+",
            "value": "random(2,5)"
          },
          {
            "resource": "knowledge",
            "operation": "+",
            "value": "random(2,4)"
          }
        ]
      },
      {
        "name": "gather_supplies",
        "label": "Gather Supplies",
        "description": "Wild herbs and clean water.",
        "effects": [
          {
            "resource": "supplies",
            "operation": "+",
            "value": "random(3,5)"
          },
          {
            "resource": "cards",
            "operation": "-",
            "value": "1"
          }
        ]
      },
      {
        "name": "climb_hill",
        "label": "Climb a Hill",
        "description": "Higher ground reveals mountain paths.",
        "effects": [
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(2,4)"
          },
          {
            "resource": "supplies",
            "operation": "-",
            "value": "random(1,2)"
          }
        ],
        "transition": "mountain"
      }
    ],
    "forest": [
      {
        "name": "blaze_trail",
        "label": "Blaze a Trail",
        "description": "Mark trees and map the paths.",
        "effects": [
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(3,6)"
          },
          {
            "resource": "cards",
            "operation": "-",
            "value": "random(1,2)"
          },
          {
            "resource": "supplies",
            "operation": "-",
            "value": "random(1,2)"
          }
        ]
      },
      {
        "name": "draw_creature",
        "label": "Draw a Creature Card",
        "description": "Something moves in the undergrowth.",
        "effects": [
          {
            "resource": "cards",
            "operation": "-",
            "value": "1"
          },
          {
            "resource": "danger",
            "operation": "+",
            "value": "random(3,6)"
          },
          {
            "resource": "knowledge",
            "operation": "+",
            "value": "random(3,5)"
          }
        ]
      },
      {
        "name": "find_cave",
        "label": "Find a Cave Entrance",
        "description": "A dark opening between tree roots.",
        "effects": [
          {
            "resource": "cards",
            "operation": "-",
            "value": "1"
          }
        ],
        "transition": "dungeon"
      },
      {
        "name": "return_camp",
        "label": "Return to Camp",
        "description": "Retrace your steps.",
        "effects": [
          {
            "resource": "supplies",
            "operation": "-",
            "value": "random(1,2)"
          }
        ],
        "transition": "camp"
      }
    ],
    "mountain": [
      {
        "name": "panoramic_map",
        "label": "Panoramic Mapping",
        "description": "See for miles in every direction.",
        "effects": [
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(5,10)"
          },
          {
            "resource": "cards",
            "operation": "-",
            "value": "random(1,2)"
          },
          {
            "resource": "supplies",
            "operation": "-",
            "value": "random(2,3)"
          }
        ]
      },
      {
        "name": "draw_weather",
        "label": "Draw a Weather Card",
        "description": "Mountain weather is unpredictable.",
        "effects": [
          {
            "resource": "cards",
            "operation": "-",
            "value": "1"
          },
          {
            "resource": "danger",
            "operation": "+",
            "value": "random(3,6)"
          },
          {
            "resource": "supplies",
            "operation": "-",
            "value": "random(1,3)"
          }
        ]
      },
      {
        "name": "find_pass",
        "label": "Find a Mountain Pass",
        "description": "A narrow trail leads to unexplored territory.",
        "effects": [
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(3,5)"
          },
          {
            "resource": "knowledge",
            "operation": "+",
            "value": "random(2,4)"
          },
          {
            "resource": "cards",
            "operation": "-",
            "value": "1"
          }
        ]
      },
      {
        "name": "descend",
        "label": "Descend",
        "description": "Head back to lower ground.",
        "effects": [
          {
            "resource": "supplies",
            "operation": "-",
            "value": "random(1,2)"
          }
        ],
        "transition": "grasslands"
      }
    ],
    "dungeon": [
      {
        "name": "explore_deeper",
        "label": "Explore Deeper",
        "description": "Draw cards to reveal what lurks below.",
        "effects": [
          {
            "resource": "cards",
            "operation": "-",
            "value": "random(1,2)"
          },
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(3,6)"
          },
          {
            "resource": "danger",
            "operation": "+",
            "value": "random(3,6)"
          }
        ]
      },
      {
        "name": "draw_treasure",
        "label": "Draw a Treasure Card",
        "description": "Ancient vaults hold rare map pieces.",
        "effects": [
          {
            "resource": "cards",
            "operation": "-",
            "value": "1"
          },
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(5,8)"
          },
          {
            "resource": "knowledge",
            "operation": "+",
            "value": "random(3,5)"
          }
        ]
      },
      {
        "name": "fight_guardian",
        "label": "Fight a Guardian",
        "description": "Defeat the creature blocking the path.",
        "effects": [
          {
            "resource": "danger",
            "operation": "-",
            "value": "random(5,8)"
          },
          {
            "resource": "supplies",
            "operation": "-",
            "value": "random(3,5)"
          },
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(3,6)"
          }
        ]
      },
      {
        "name": "escape_surface",
        "label": "Escape to Surface",
        "description": "Find a way out.",
        "effects": [
          {
            "resource": "danger",
            "operation": "-",
            "value": "random(3,5)"
          }
        ],
        "transition": "forest"
      }
    ],
    "ancient_library": [
      {
        "name": "study_maps",
        "label": "Study Ancient Maps",
        "description": "Cross reference with your own data.",
        "effects": [
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(8,15)"
          },
          {
            "resource": "knowledge",
            "operation": "+",
            "value": "random(5,8)"
          },
          {
            "resource": "cards",
            "operation": "-",
            "value": "random(1,2)"
          }
        ]
      },
      {
        "name": "copy_scrolls",
        "label": "Copy Map Scrolls",
        "description": "Duplicate the ancient cartography.",
        "effects": [
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(5,10)"
          },
          {
            "resource": "cards",
            "operation": "+",
            "value": "random(2,4)"
          }
        ]
      },
      {
        "name": "complete_map",
        "label": "Assemble the Final Map",
        "description": "Piece everything together.",
        "effects": [
          {
            "resource": "map_fragments",
            "operation": "+",
            "value": "random(10,15)"
          },
          {
            "resource": "knowledge",
            "operation": "+",
            "value": "random(5,10)"
          }
        ]
      }
    ]
  },
  "transitions": [
    {
      "from": "dungeon",
      "to": "ancient_library",
      "condition": {
        "resource": "knowledge",
        "operator": ">=",
        "value": "25"
      },
      "auto": true
    },
    {
      "from": "mountain",
      "to": "ancient_library",
      "condition": {
        "resource": "map_fragments",
        "operator": ">=",
        "value": "50"
      },
      "auto": true
    }
  ],
  "winCondition": {
    "resource": "map_fragments",
    "operator": ">=",
    "value": "85"
  },
  "loseCondition": {
    "resource": "cards",
    "operator": "<=",
    "value": "0"
  },
  "theme": {
    "palette": "parchment-gold",
    "stateDescriptions": {
      "camp": {
        "label": "Base Camp",
        "icon": "home"
      },
      "grasslands": {
        "label": "Grasslands",
        "icon": "sun"
      },
      "forest": {
        "label": "Forest",
        "icon": "tree"
      },
      "mountain": {
        "label": "Mountain",
        "icon": "triangle"
      },
      "dungeon": {
        "label": "Dungeon",
        "icon": "lock"
      },
      "ancient_library": {
        "label": "Ancient Library",
        "icon": "book"
      }
    },
    "resourceIcons": {
      "cards": "layers",
      "map_fragments": "map",
      "supplies": "box",
      "danger": "alert-triangle",
      "knowledge": "book-open"
    }
  }
}
