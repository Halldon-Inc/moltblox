{
  "name": "Pirate Voyage",
  "description": "Captain a pirate ship across the Caribbean. Raid merchant vessels, avoid the navy, and amass a legendary fortune.",
  "states": [
    {
      "name": "open_sea",
      "description": "Sailing the open waters. The horizon stretches endlessly.",
      "onEnter": []
    },
    { "name": "merchant_ship", "description": "A merchant vessel spotted ahead.", "onEnter": [] },
    {
      "name": "navy_patrol",
      "description": "Royal Navy ships approach!",
      "onEnter": [{ "resource": "notoriety", "operation": "+", "value": "2" }]
    },
    { "name": "port_town", "description": "A pirate-friendly port town.", "onEnter": [] },
    {
      "name": "island_cove",
      "description": "A hidden cove, perfect for burying treasure.",
      "onEnter": []
    },
    {
      "name": "sea_battle",
      "description": "Cannons firing! Ships locked in combat.",
      "onEnter": []
    },
    {
      "name": "tavern",
      "description": "The local tavern buzzes with rumors and shanties.",
      "onEnter": []
    }
  ],
  "initialState": "open_sea",
  "resources": {
    "gold": { "initial": 20, "min": 0, "label": "Gold Doubloons" },
    "crew": { "initial": 15, "min": 0, "max": 50, "label": "Crew" },
    "cannons": { "initial": 4, "min": 0, "max": 20, "label": "Cannons" },
    "rum": { "initial": 10, "min": 0, "max": 30, "label": "Rum" },
    "ship_hp": { "initial": 80, "min": 0, "max": 100, "label": "Ship Health" },
    "notoriety": { "initial": 0, "min": 0, "max": 20, "label": "Notoriety" },
    "buried_treasure": { "initial": 0, "min": 0, "label": "Buried Treasure" }
  },
  "actions": {
    "open_sea": [
      {
        "name": "sail",
        "label": "Sail Onward",
        "description": "Continue sailing through the waters.",
        "effects": [
          { "resource": "rum", "operation": "-", "value": "1" },
          { "resource": "notoriety", "operation": "+", "value": "random(0,1)" }
        ]
      },
      {
        "name": "hunt_merchants",
        "label": "Hunt for Prey",
        "description": "Search for merchant ships to raid.",
        "effects": [
          { "resource": "rum", "operation": "-", "value": "1" },
          { "resource": "notoriety", "operation": "+", "value": "1" }
        ],
        "transition": "merchant_ship"
      },
      {
        "name": "head_to_port",
        "label": "Head to Port",
        "description": "Set course for the nearest pirate port.",
        "effects": [{ "resource": "rum", "operation": "-", "value": "2" }],
        "transition": "port_town"
      },
      {
        "name": "find_cove",
        "label": "Find Hidden Cove",
        "description": "Look for a secluded island to hide out.",
        "effects": [{ "resource": "rum", "operation": "-", "value": "1" }],
        "transition": "island_cove"
      }
    ],
    "merchant_ship": [
      {
        "name": "raid",
        "label": "Board and Raid",
        "description": "Attack the merchant vessel!",
        "effects": [
          { "resource": "gold", "operation": "+", "value": "random(15,40)" },
          { "resource": "rum", "operation": "+", "value": "random(2,6)" },
          { "resource": "crew", "operation": "-", "value": "random(0,3)" },
          { "resource": "ship_hp", "operation": "-", "value": "random(5,15)" },
          { "resource": "notoriety", "operation": "+", "value": "3" }
        ],
        "transition": "open_sea"
      },
      {
        "name": "demand_tribute",
        "label": "Demand Tribute",
        "description": "Raise the flag and demand they pay up.",
        "effects": [
          { "resource": "gold", "operation": "+", "value": "random(5,20)" },
          { "resource": "notoriety", "operation": "+", "value": "1" }
        ],
        "transition": "open_sea"
      },
      {
        "name": "let_pass",
        "label": "Let Them Pass",
        "description": "Not worth the trouble.",
        "effects": [],
        "transition": "open_sea"
      }
    ],
    "navy_patrol": [
      {
        "name": "fight_navy",
        "label": "Fight the Navy",
        "description": "Engage the warships!",
        "effects": [
          { "resource": "ship_hp", "operation": "-", "value": "random(15,30)" },
          { "resource": "crew", "operation": "-", "value": "random(3,8)" },
          { "resource": "cannons", "operation": "-", "value": "random(0,2)" },
          { "resource": "gold", "operation": "+", "value": "random(10,30)" },
          { "resource": "notoriety", "operation": "+", "value": "5" }
        ],
        "transition": "open_sea"
      },
      {
        "name": "flee_navy",
        "label": "Flee!",
        "description": "Full sails, get away fast!",
        "effects": [
          { "resource": "ship_hp", "operation": "-", "value": "random(5,10)" },
          { "resource": "rum", "operation": "-", "value": "3" }
        ],
        "transition": "open_sea"
      },
      {
        "name": "surrender_goods",
        "label": "Dump Cargo",
        "description": "Throw cargo overboard to gain speed.",
        "effects": [
          { "resource": "gold", "operation": "-", "value": "random(10,20)" },
          { "resource": "notoriety", "operation": "-", "value": "2" }
        ],
        "transition": "open_sea"
      }
    ],
    "port_town": [
      {
        "name": "recruit",
        "label": "Recruit Crew",
        "description": "Find willing sailors in the port.",
        "condition": { "resource": "gold", "operator": ">=", "value": "10" },
        "effects": [
          { "resource": "crew", "operation": "+", "value": "random(3,8)" },
          { "resource": "gold", "operation": "-", "value": "10" }
        ]
      },
      {
        "name": "repair",
        "label": "Repair Ship",
        "description": "Patch up the hull.",
        "condition": { "resource": "gold", "operator": ">=", "value": "15" },
        "effects": [
          { "resource": "ship_hp", "operation": "+", "value": "30" },
          { "resource": "gold", "operation": "-", "value": "15" }
        ]
      },
      {
        "name": "buy_cannons",
        "label": "Buy Cannons",
        "description": "Arm the ship with more firepower.",
        "condition": { "resource": "gold", "operator": ">=", "value": "12" },
        "effects": [
          { "resource": "cannons", "operation": "+", "value": "random(1,3)" },
          { "resource": "gold", "operation": "-", "value": "12" }
        ]
      },
      {
        "name": "buy_rum",
        "label": "Buy Rum",
        "description": "Keep the crew happy.",
        "condition": { "resource": "gold", "operator": ">=", "value": "5" },
        "effects": [
          { "resource": "rum", "operation": "+", "value": "random(5,10)" },
          { "resource": "gold", "operation": "-", "value": "5" }
        ]
      },
      {
        "name": "visit_tavern",
        "label": "Visit Tavern",
        "description": "Hear rumors and find opportunities.",
        "effects": [],
        "transition": "tavern"
      },
      {
        "name": "set_sail",
        "label": "Set Sail",
        "description": "Leave port.",
        "effects": [],
        "transition": "open_sea"
      }
    ],
    "island_cove": [
      {
        "name": "bury_treasure",
        "label": "Bury Treasure",
        "description": "Stash gold safely underground.",
        "condition": { "resource": "gold", "operator": ">=", "value": "20" },
        "effects": [
          { "resource": "gold", "operation": "-", "value": "20" },
          { "resource": "buried_treasure", "operation": "+", "value": "20" }
        ]
      },
      {
        "name": "rest",
        "label": "Rest the Crew",
        "description": "Let everyone recuperate on the beach.",
        "effects": [
          { "resource": "crew", "operation": "+", "value": "random(1,3)" },
          { "resource": "rum", "operation": "-", "value": "2" }
        ]
      },
      {
        "name": "patch_ship",
        "label": "Beach Repairs",
        "description": "Do some basic ship maintenance.",
        "effects": [{ "resource": "ship_hp", "operation": "+", "value": "random(5,10)" }]
      },
      {
        "name": "leave_cove",
        "label": "Leave Cove",
        "description": "Back to the open seas.",
        "effects": [],
        "transition": "open_sea"
      }
    ],
    "sea_battle": [
      {
        "name": "broadside",
        "label": "Fire Broadside",
        "description": "Unleash all cannons!",
        "condition": { "resource": "cannons", "operator": ">=", "value": "2" },
        "effects": [
          { "resource": "gold", "operation": "+", "value": "random(20,50)" },
          { "resource": "ship_hp", "operation": "-", "value": "random(10,25)" },
          { "resource": "crew", "operation": "-", "value": "random(2,5)" },
          { "resource": "cannons", "operation": "-", "value": "random(0,1)" }
        ],
        "transition": "open_sea"
      },
      {
        "name": "retreat",
        "label": "Retreat",
        "description": "Break off and run.",
        "effects": [
          { "resource": "ship_hp", "operation": "-", "value": "random(5,10)" },
          { "resource": "notoriety", "operation": "-", "value": "1" }
        ],
        "transition": "open_sea"
      }
    ],
    "tavern": [
      {
        "name": "buy_rounds",
        "label": "Buy Rounds",
        "description": "Drink with the locals for gossip.",
        "condition": { "resource": "gold", "operator": ">=", "value": "3" },
        "effects": [
          { "resource": "gold", "operation": "-", "value": "3" },
          { "resource": "notoriety", "operation": "+", "value": "1" }
        ]
      },
      {
        "name": "gamble",
        "label": "Gamble",
        "description": "Test your luck at the card table.",
        "condition": { "resource": "gold", "operator": ">=", "value": "5" },
        "effects": [{ "resource": "gold", "operation": "+", "value": "random(-5,15)" }]
      },
      {
        "name": "leave_tavern",
        "label": "Leave Tavern",
        "description": "Head back to the docks.",
        "effects": [],
        "transition": "port_town"
      }
    ]
  },
  "transitions": [
    {
      "from": "open_sea",
      "to": "navy_patrol",
      "condition": { "resource": "notoriety", "operator": ">=", "value": "12" },
      "auto": true
    },
    {
      "from": "open_sea",
      "to": "sea_battle",
      "condition": { "resource": "notoriety", "operator": ">=", "value": "15" },
      "auto": true
    }
  ],
  "winCondition": { "resource": "buried_treasure", "operator": ">=", "value": "100" },
  "loseCondition": {
    "or": [
      { "resource": "ship_hp", "operator": "<=", "value": "0" },
      { "resource": "crew", "operator": "<=", "value": "0" }
    ]
  },
  "theme": {
    "palette": "caribbean",
    "stateDescriptions": {
      "open_sea": { "label": "The Open Sea", "icon": "compass" },
      "merchant_ship": { "label": "Merchant Vessel", "icon": "package" },
      "navy_patrol": { "label": "Navy Patrol!", "icon": "shield" },
      "port_town": { "label": "Pirate Port", "icon": "anchor" },
      "island_cove": { "label": "Hidden Cove", "icon": "palm-tree" },
      "sea_battle": { "label": "Naval Battle!", "icon": "crosshair" },
      "tavern": { "label": "The Tavern", "icon": "beer" }
    },
    "resourceIcons": {
      "gold": "coin",
      "crew": "users",
      "cannons": "target",
      "rum": "droplet",
      "ship_hp": "shield",
      "notoriety": "skull",
      "buried_treasure": "gem"
    }
  }
}
