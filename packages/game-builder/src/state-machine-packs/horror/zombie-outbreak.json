{
  "name": "Zombie Outbreak",
  "description": "The city has fallen to the undead. Gather survivors, find supplies, and reach the evacuation point before the horde overwhelms you.",
  "states": [
    {
      "name": "shelter",
      "description": "A boarded-up building. Your temporary base.",
      "onEnter": []
    },
    {
      "name": "scavenging",
      "description": "Out in the streets searching for supplies.",
      "onEnter": [{ "resource": "danger", "operation": "+", "value": "3" }]
    },
    {
      "name": "horde_attack",
      "description": "Zombies swarm your position!",
      "onEnter": [{ "resource": "danger", "operation": "+", "value": "5" }]
    },
    {
      "name": "rescue_mission",
      "description": "Survivors signal from a nearby rooftop.",
      "onEnter": []
    },
    {
      "name": "barricade",
      "description": "Reinforcing your defenses.",
      "onEnter": [{ "resource": "danger", "operation": "-", "value": "3" }]
    },
    {
      "name": "evacuation_route",
      "description": "The path to the helicopter is clear. For now.",
      "onEnter": []
    }
  ],
  "initialState": "shelter",
  "resources": {
    "survivors": { "initial": 3, "min": 0, "max": 15, "label": "Survivors" },
    "food": { "initial": 10, "min": 0, "max": 50, "label": "Food Rations" },
    "ammo": { "initial": 12, "min": 0, "max": 40, "label": "Ammo" },
    "barricade_hp": { "initial": 30, "min": 0, "max": 50, "label": "Barricade Strength" },
    "danger": { "initial": 10, "min": 0, "max": 100, "label": "Danger Level" },
    "progress": { "initial": 0, "min": 0, "max": 100, "label": "Evacuation Progress" }
  },
  "actions": {
    "shelter": [
      {
        "name": "scavenge",
        "label": "Go Scavenging",
        "description": "Head out to find food and ammo.",
        "effects": [{ "resource": "food", "operation": "-", "value": "1" }],
        "transition": "scavenging"
      },
      {
        "name": "fortify",
        "label": "Fortify Shelter",
        "description": "Strengthen the barricades.",
        "effects": [{ "resource": "food", "operation": "-", "value": "1" }],
        "transition": "barricade"
      },
      {
        "name": "rest",
        "label": "Rest and Eat",
        "description": "Recover strength.",
        "effects": [
          { "resource": "food", "operation": "-", "value": "random(2,4)" },
          { "resource": "danger", "operation": "+", "value": "2" }
        ]
      },
      {
        "name": "plan_route",
        "label": "Plan Evacuation",
        "description": "Study maps and radio channels.",
        "effects": [
          { "resource": "progress", "operation": "+", "value": "random(5,10)" },
          { "resource": "food", "operation": "-", "value": "1" }
        ]
      }
    ],
    "scavenging": [
      {
        "name": "search_store",
        "label": "Raid a Store",
        "description": "Break into a nearby shop.",
        "effects": [
          { "resource": "food", "operation": "+", "value": "random(5,10)" },
          { "resource": "ammo", "operation": "+", "value": "random(2,6)" },
          { "resource": "danger", "operation": "+", "value": "random(3,6)" }
        ],
        "transition": "shelter"
      },
      {
        "name": "check_cars",
        "label": "Check Abandoned Cars",
        "description": "Search vehicles for supplies.",
        "effects": [
          { "resource": "food", "operation": "+", "value": "random(2,5)" },
          { "resource": "ammo", "operation": "+", "value": "random(1,4)" },
          { "resource": "danger", "operation": "+", "value": "random(2,4)" }
        ],
        "transition": "shelter"
      },
      {
        "name": "find_survivors",
        "label": "Investigate Signals",
        "description": "Someone is calling for help.",
        "effects": [{ "resource": "danger", "operation": "+", "value": "5" }],
        "transition": "rescue_mission"
      }
    ],
    "horde_attack": [
      {
        "name": "fight",
        "label": "Fight Them Off",
        "description": "Open fire on the horde.",
        "effects": [
          { "resource": "ammo", "operation": "-", "value": "random(5,10)" },
          { "resource": "danger", "operation": "-", "value": "random(10,15)" },
          { "resource": "barricade_hp", "operation": "-", "value": "random(5,10)" }
        ],
        "transition": "shelter"
      },
      {
        "name": "evacuate_shelter",
        "label": "Abandon Shelter",
        "description": "Flee to a new location.",
        "effects": [
          { "resource": "survivors", "operation": "-", "value": "random(1,3)" },
          { "resource": "food", "operation": "-", "value": "random(3,5)" },
          { "resource": "danger", "operation": "-", "value": "15" },
          { "resource": "barricade_hp", "operation": "-", "value": "15" }
        ],
        "transition": "shelter"
      }
    ],
    "rescue_mission": [
      {
        "name": "save_them",
        "label": "Rescue Survivors",
        "description": "Fight through zombies to reach them.",
        "effects": [
          { "resource": "survivors", "operation": "+", "value": "random(1,3)" },
          { "resource": "ammo", "operation": "-", "value": "random(3,6)" },
          { "resource": "danger", "operation": "+", "value": "random(3,5)" }
        ],
        "transition": "shelter"
      },
      {
        "name": "too_risky",
        "label": "Too Dangerous",
        "description": "The risk is too high. Fall back.",
        "effects": [{ "resource": "danger", "operation": "-", "value": "3" }],
        "transition": "shelter"
      }
    ],
    "barricade": [
      {
        "name": "build_walls",
        "label": "Reinforce Walls",
        "description": "Stack furniture and boards.",
        "effects": [{ "resource": "barricade_hp", "operation": "+", "value": "random(8,15)" }],
        "transition": "shelter"
      },
      {
        "name": "set_traps",
        "label": "Set Zombie Traps",
        "description": "Create noise makers and spike pits.",
        "effects": [
          { "resource": "barricade_hp", "operation": "+", "value": "random(5,10)" },
          { "resource": "danger", "operation": "-", "value": "random(3,5)" }
        ],
        "transition": "shelter"
      }
    ],
    "evacuation_route": [
      {
        "name": "move_out",
        "label": "Move to Extraction",
        "description": "Lead the group toward the helicopter.",
        "effects": [
          { "resource": "progress", "operation": "+", "value": "random(15,25)" },
          { "resource": "ammo", "operation": "-", "value": "random(3,6)" },
          { "resource": "food", "operation": "-", "value": "random(2,4)" }
        ]
      },
      {
        "name": "clear_path",
        "label": "Clear the Way",
        "description": "Eliminate zombies blocking the route.",
        "effects": [
          { "resource": "ammo", "operation": "-", "value": "random(5,8)" },
          { "resource": "danger", "operation": "-", "value": "random(8,12)" },
          { "resource": "progress", "operation": "+", "value": "random(10,15)" }
        ]
      }
    ]
  },
  "transitions": [
    {
      "from": "shelter",
      "to": "horde_attack",
      "condition": { "resource": "danger", "operator": ">=", "value": "50" },
      "auto": true
    },
    {
      "from": "shelter",
      "to": "evacuation_route",
      "condition": { "resource": "progress", "operator": ">=", "value": "40" },
      "auto": false
    }
  ],
  "winCondition": { "resource": "progress", "operator": ">=", "value": "100" },
  "loseCondition": { "resource": "survivors", "operator": "<=", "value": "0" },
  "theme": {
    "palette": "decay-green",
    "stateDescriptions": {
      "shelter": { "label": "Safe House", "icon": "home" },
      "scavenging": { "label": "Scavenging", "icon": "search" },
      "horde_attack": { "label": "Horde!", "icon": "skull" },
      "rescue_mission": { "label": "Rescue!", "icon": "heart" },
      "barricade": { "label": "Fortifying", "icon": "shield" },
      "evacuation_route": { "label": "Evacuation", "icon": "arrow-up" }
    },
    "resourceIcons": {
      "survivors": "users",
      "food": "apple",
      "ammo": "target",
      "barricade_hp": "shield",
      "danger": "alert",
      "progress": "flag"
    }
  }
}
