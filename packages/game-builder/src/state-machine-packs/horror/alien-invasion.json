{
  "name": "Alien Invasion",
  "description": "Earth is under attack from an advanced alien fleet. Lead a resistance cell, reverse-engineer alien tech, and rally humanity to fight back.",
  "states": [
    {
      "name": "bunker",
      "description": "Underground command center. Screens show the invasion's progress.",
      "onEnter": []
    },
    {
      "name": "recon",
      "description": "Scouts observe alien patrols and harvester ships.",
      "onEnter": [{ "resource": "intel", "operation": "+", "value": "random(2,4)" }]
    },
    {
      "name": "alien_encounter",
      "description": "Contact with alien forces. Fight or flee.",
      "onEnter": [{ "resource": "threat", "operation": "+", "value": "5" }]
    },
    {
      "name": "research_lab",
      "description": "Scientists study captured alien artifacts.",
      "onEnter": []
    },
    {
      "name": "supply_raid",
      "description": "A military depot holds weapons and food.",
      "onEnter": []
    },
    {
      "name": "broadcast",
      "description": "Hack into remaining TV networks to rally survivors.",
      "onEnter": [{ "resource": "hope", "operation": "+", "value": "random(5,8)" }]
    },
    {
      "name": "final_assault",
      "description": "The mothership hovers above. Time for the final strike.",
      "onEnter": []
    }
  ],
  "initialState": "bunker",
  "resources": {
    "fighters": { "initial": 10, "min": 0, "max": 30, "label": "Fighters" },
    "supplies": { "initial": 20, "min": 0, "max": 60, "label": "Supplies" },
    "intel": { "initial": 0, "min": 0, "max": 50, "label": "Alien Intel" },
    "tech_level": { "initial": 0, "min": 0, "max": 10, "label": "Tech Level" },
    "hope": { "initial": 30, "min": 0, "max": 100, "label": "Hope" },
    "threat": { "initial": 20, "min": 0, "max": 100, "label": "Alien Threat" }
  },
  "actions": {
    "bunker": [
      {
        "name": "send_scouts",
        "label": "Send Scouts",
        "description": "Gather information on alien movements.",
        "effects": [
          { "resource": "fighters", "operation": "-", "value": "1" },
          { "resource": "supplies", "operation": "-", "value": "2" }
        ],
        "transition": "recon"
      },
      {
        "name": "research",
        "label": "Study Alien Tech",
        "description": "Analyze captured artifacts.",
        "condition": { "resource": "intel", "operator": ">=", "value": "5" },
        "effects": [{ "resource": "supplies", "operation": "-", "value": "3" }],
        "transition": "research_lab"
      },
      {
        "name": "raid_depot",
        "label": "Raid Supply Depot",
        "description": "Attack a nearby military base.",
        "effects": [
          { "resource": "fighters", "operation": "-", "value": "random(0,2)" },
          { "resource": "threat", "operation": "+", "value": "3" }
        ],
        "transition": "supply_raid"
      },
      {
        "name": "rally",
        "label": "Broadcast Hope",
        "description": "Send a signal to inspire survivors.",
        "effects": [{ "resource": "supplies", "operation": "-", "value": "2" }],
        "transition": "broadcast"
      }
    ],
    "recon": [
      {
        "name": "observe",
        "label": "Observe Patrols",
        "description": "Watch alien patrol patterns.",
        "effects": [
          { "resource": "intel", "operation": "+", "value": "random(3,6)" },
          { "resource": "threat", "operation": "+", "value": "random(1,3)" }
        ],
        "transition": "bunker"
      },
      {
        "name": "ambush_patrol",
        "label": "Ambush a Patrol",
        "description": "Attack a small alien squad.",
        "effects": [
          { "resource": "intel", "operation": "+", "value": "random(4,8)" },
          { "resource": "fighters", "operation": "-", "value": "random(1,3)" },
          { "resource": "threat", "operation": "+", "value": "random(3,5)" }
        ],
        "transition": "bunker"
      }
    ],
    "alien_encounter": [
      {
        "name": "fight_aliens",
        "label": "Engage!",
        "description": "Open fire on the alien force.",
        "effects": [
          { "resource": "fighters", "operation": "-", "value": "random(2,5)" },
          { "resource": "intel", "operation": "+", "value": "random(3,6)" },
          { "resource": "threat", "operation": "-", "value": "random(5,8)" }
        ],
        "transition": "bunker"
      },
      {
        "name": "retreat",
        "label": "Fall Back",
        "description": "Retreat to the bunker.",
        "effects": [
          { "resource": "fighters", "operation": "-", "value": "random(1,2)" },
          { "resource": "hope", "operation": "-", "value": "5" }
        ],
        "transition": "bunker"
      }
    ],
    "research_lab": [
      {
        "name": "reverse_engineer",
        "label": "Reverse Engineer Weapon",
        "description": "Build human versions of alien weapons.",
        "effects": [
          { "resource": "tech_level", "operation": "+", "value": "1" },
          { "resource": "intel", "operation": "-", "value": "5" },
          { "resource": "supplies", "operation": "-", "value": "5" }
        ],
        "transition": "bunker"
      },
      {
        "name": "study_weakness",
        "label": "Find Weakness",
        "description": "Discover alien vulnerabilities.",
        "effects": [
          { "resource": "intel", "operation": "+", "value": "random(3,6)" },
          { "resource": "hope", "operation": "+", "value": "5" }
        ],
        "transition": "bunker"
      }
    ],
    "supply_raid": [
      {
        "name": "grab_weapons",
        "label": "Take Weapons",
        "description": "Load up on military hardware.",
        "effects": [
          { "resource": "supplies", "operation": "+", "value": "random(10,20)" },
          { "resource": "fighters", "operation": "+", "value": "random(1,3)" },
          { "resource": "threat", "operation": "+", "value": "random(3,5)" }
        ],
        "transition": "bunker"
      },
      {
        "name": "recruit_soldiers",
        "label": "Recruit Survivors",
        "description": "Found hiding soldiers join your cause.",
        "effects": [
          { "resource": "fighters", "operation": "+", "value": "random(2,5)" },
          { "resource": "supplies", "operation": "+", "value": "random(3,8)" },
          { "resource": "hope", "operation": "+", "value": "5" }
        ],
        "transition": "bunker"
      }
    ],
    "broadcast": [
      {
        "name": "inspire",
        "label": "Inspire Humanity",
        "description": "Give a speech that reaches millions.",
        "effects": [
          { "resource": "hope", "operation": "+", "value": "random(10,15)" },
          { "resource": "fighters", "operation": "+", "value": "random(2,4)" },
          { "resource": "threat", "operation": "+", "value": "random(3,5)" }
        ],
        "transition": "bunker"
      },
      {
        "name": "share_intel",
        "label": "Share Alien Intel",
        "description": "Broadcast alien weaknesses to other cells.",
        "effects": [
          { "resource": "hope", "operation": "+", "value": "random(5,10)" },
          { "resource": "intel", "operation": "-", "value": "3" }
        ],
        "transition": "bunker"
      }
    ],
    "final_assault": [
      {
        "name": "attack_mothership",
        "label": "Strike the Mothership",
        "description": "Launch the final attack.",
        "effects": [
          { "resource": "fighters", "operation": "-", "value": "random(5,10)" },
          { "resource": "threat", "operation": "-", "value": "random(20,30)" },
          { "resource": "hope", "operation": "+", "value": "20" }
        ]
      },
      {
        "name": "use_alien_tech",
        "label": "Deploy Alien Weapon",
        "description": "Turn their own tech against them.",
        "condition": { "resource": "tech_level", "operator": ">=", "value": "5" },
        "effects": [
          { "resource": "threat", "operation": "-", "value": "30" },
          { "resource": "hope", "operation": "+", "value": "25" }
        ]
      }
    ]
  },
  "transitions": [
    {
      "from": "bunker",
      "to": "alien_encounter",
      "condition": { "resource": "threat", "operator": ">=", "value": "60" },
      "auto": true
    },
    {
      "from": "bunker",
      "to": "final_assault",
      "condition": {
        "and": [
          { "resource": "tech_level", "operator": ">=", "value": "3" },
          { "resource": "hope", "operator": ">=", "value": "60" }
        ]
      },
      "auto": false
    }
  ],
  "winCondition": { "resource": "hope", "operator": ">=", "value": "90" },
  "loseCondition": { "resource": "fighters", "operator": "<=", "value": "0" },
  "theme": {
    "palette": "alien-green",
    "stateDescriptions": {
      "bunker": { "label": "Command Bunker", "icon": "shield" },
      "recon": { "label": "Recon", "icon": "eye" },
      "alien_encounter": { "label": "Contact!", "icon": "alert" },
      "research_lab": { "label": "Research Lab", "icon": "flask" },
      "supply_raid": { "label": "Supply Raid", "icon": "package" },
      "broadcast": { "label": "Broadcast", "icon": "radio" },
      "final_assault": { "label": "Final Strike", "icon": "rocket" }
    },
    "resourceIcons": {
      "fighters": "users",
      "supplies": "package",
      "intel": "file",
      "tech_level": "cpu",
      "hope": "heart",
      "threat": "alert"
    }
  }
}
